<section class="container">
    <div class="row justify-content-center">

        <div class="col-4 d-block d-md-none text-center">
            <img src="/assets/img/asesori-logo-negative.png" width="90px" height="90px" class="" alt="ASESORI" routerLink="/homepage">
        </div>

        <div class="d-none d-lg-block col-3">
            <div class="row">
                <div class="col bg-4 text-center">
                    <img class="img-fluid mt-4" width="95px" height="95px" src="/assets/img/asesori-logo-negative.png">

                    <ul class="timeline text-left text-uppercase tittle-19 color-6">
                        <li class="primero">
                            <summary [routerLink]="personal_data ? '/credit/results/identification' : null" [ngClass]="{'pointer color-1': personal_data, 'not-allowed':!personal_data}">Identificación</summary>
                            <p class="mt-4" [routerLink]="personal_data ? '/credit/results/identification' : null" [ngClass]="{'pointer color-1': personal_data, 'not-allowed':!personal_data}">datos personales</p>
                            <p [routerLink]="location_data ? '/credit/results/identification/location' : null" [ngClass]="{'pointer color-1': location_data, 'not-allowed':!location_data}">domicilio actual</p>
                            <p [routerLink]="contact_data ? '/credit/results/identification/contact' : null" [ngClass]="{'pointer color-1': contact_data, 'not-allowed':!contact_data}">contacto</p>
                        </li>
                        <li class="segundo">
                            <summary class="color-1 tittle-20">Información económica</summary>
                            <p class="mt-4 color-1">situación laboral</p>
                            <p [routerLink]="financial_data ? '/credit/results/economic/financial' : null" [ngClass]="{'pointer color-1': financial_data, 'not-allowed':!financial_data}">situación financiera</p>
                            <p [routerLink]="economic_data ? '/credit/results/economic/economic' : null" [ngClass]="{'pointer color-1': economic_data, 'not-allowed':!economic_data}">datos económicos</p>
                        </li>
                        <li class="tercero">
                            <summary [routerLink]="(personal_data && location_data && contact_data && economic_data && labor_data && financial_data) ? '/credit/results/my-credit' : null" [ngClass]="{'pointer color-1': (personal_data && location_data && contact_data && economic_data && labor_data && financial_data), 'not-allowed':!(personal_data && location_data && contact_data && economic_data && labor_data && financial_data)}">Mi crédito</summary>
                            <p class="mt-4" [routerLink]="(personal_data && location_data && contact_data && economic_data && labor_data && financial_data) ? '/credit/results/my-credit/summary' : null" [ngClass]="{'pointer color-1': (personal_data && location_data && contact_data && economic_data && labor_data && financial_data), 'not-allowed':!(personal_data && location_data && contact_data && economic_data && labor_data && financial_data)}">solicitud</p>
                        </li>
                        <li class="cuarto">
                            <summary>Solicitud lista</summary>
                        </li>
                    </ul>

                    <!-- <ul class="timeline text-left text-uppercase tittle-19 color-6">
                        <li class="primero">
                            <summary class="color-1-opacity">Identificación</summary>
                            <p class="mt-4 color-1-opacity">datos personales</p>
                            <p class="color-1-opacity">domicilio actual</p>
                            <p class="color-1-opacity">contacto</p>
                        </li>
                        <li class="segundo">
                            <summary class="color-1 tittle-20">Información económica</summary>
                            <p class="mt-4 color-1">situación laboral</p>
                            <p class="color-1-opacity">situación financiera</p>
                            <p class="color-1-opacity">datos económicos</p>
                        </li>
                        <li class="tercero">
                            <summary>Mi crédito</summary>
                            <p class="mt-4">solicitud</p>
                        </li>
                        <li class="cuarto">
                            <summary>Solicitud lista</summary>
                        </li>
                    </ul> -->
                </div>
            </div>
            <div class="row mt-3 mx-1">
                <div class="col-12">
                    <p class="tittle-10">Tienes la seguridad y confianza</p>
                    <p class="text-light-14">Para nosotros es primordial brindarte toda la seguridad posible y confianza que necesitas durante todo el proceso. Estamos avalados por</p>
                    <owl-carousel-o [options]="customOptions">
                        <ng-template carouselSlide>
                            <div class="bg-0 mx-1 rounded">
                                <img src="/assets/img/financial-entities/banco-austro-188x100.png">
                            </div>
                        </ng-template>
                        <ng-template carouselSlide>
                            <div class="bg-0 mx-1 rounded">
                                <img src="/assets/img/financial-entities/banco-biess-188x100.png">
                            </div>
                        </ng-template>
                        <ng-template carouselSlide>
                            <div class="bg-0 mx-1 rounded">
                                <img src="/assets/img/financial-entities/banco-bolivariano-188x100.png">
                            </div>
                        </ng-template>
                        <ng-template carouselSlide>
                            <div class="bg-0 mx-1 rounded">
                                <img src="/assets/img/financial-entities/banco-dinnersClub-188x100.png">
                            </div>
                        </ng-template>
                        <ng-template carouselSlide>
                            <div class="bg-0 mx-1 rounded">
                                <img src="/assets/img/financial-entities/banco-guayaquil-188x100.png">
                            </div>
                        </ng-template>
                    </owl-carousel-o>
                </div>
            </div>
        </div>
        <div class="col-12 col-lg-9">

            <div class="d-none d-sm-flex row mx-2 mx-md-0 justify-content-sm-end pt-4">
                <div class="col-9 col-sm-3 px-md-0">
                    <progressbar [value]="percentage"></progressbar>
                </div>
                <div class="col-1 col-sm-1 text-right">
                    {{percentage}}%
                </div>
            </div>

            <div class="row mx-2 mx-md-0 justify-content-center pt-4">

                <div class="col-12 col-lg-8">

                    <h2 class="tittle-1 mb-2 d-none d-sm-block">Información económica</h2>
                    <p class="tittle-7 text-uppercase d-sm-none d-block color-1">Información económica</p>

                    <div class="row d-sm-none d-flex py-3">
                        <div class="col-10">
                            <progressbar [value]="percentage"></progressbar>
                        </div>
                        <div class="col-2 text-right">
                            {{percentage}}%
                        </div>
                    </div>

                    <p class="text-light-14 d-none d-sm-block">Con Asesori puedes acceder a créditos de forma más fácil y segura, por lo que necesitamos identicarte.</p>

                    <div class="row pt-4 pb-0 pb-sm-3 justify-content-center">
                        <div class="col-10 col-sm-4">
                            <p class="text-center text-sm-left tittle-21 color-1">Situación laboral</p>
                            <div class="mt-4 d-none d-sm-block separator"></div>
                        </div>
                        <div class="col-10 col-sm-4 d-none d-sm-block">
                            <summary [routerLink]="financial_data ? '/credit/results/economic/financial' : null" [ngClass]="{'pointer': financial_data, 'not-allowed':!financial_data}" class="tittle-21 color-7 text-center text-sm-left">Situación financiera</summary>
                        </div>
                        <div class="col-10 col-sm-4 d-none d-sm-block">
                            <summary [routerLink]="economic_data ? '/credit/results/economic/economic' : null" [ngClass]="{'pointer': economic_data, 'not-allowed':!economic_data}" class="tittle-21 text-center text-sm-left color-7">Datos económicos</summary>
                        </div>
                    </div>


                    <form [formGroup]="laborform">
                        <div class="row kudos-wrap my-5 my-sm-4">

                            <input type="radio" value="dependiente" id="dependiente" (change)="onSelectType($event)" formControlName="type">
                            <label [ngClass]="{ 'd-none d-sm-block': independenciaSection || mixtaSection }" for="dependiente" class="col-12 col-sm-4 my-3 my-sm-0">
                                <div class="text-center">
                                    <i class="icon-labor far fa-building"></i>
                                </div>

                                <div class="row mt-3 justify-content-center">
                                    <div class="col-1 pr-2">
                                        <i class="far fa-circle no-selected"></i><i
                                            class="fas fa-check-circle selected"></i>
                                    </div>
                                    <div class="col-5 col-sm-10">
                                        <p class="text-left text-sm-center">En&nbsp;Dependencia</p>
                                    </div>
                                </div>

                                <!-- <p class="pt-3 text-center "><i class="far fa-circle no-selected"></i><i class="fas fa-check-circle selected"></i>En&nbsp;Dependencia</p> -->
                            </label>

                            <input type="radio" value="independiente" id="independiente" (change)="onSelectType($event)" formControlName="type">
                            <label [ngClass]="{ 'd-none d-sm-block': dependenciaSection || mixtaSection }" for="independiente" class="col-12 col-sm-4 my-3 my-sm-0">
                                <div class="text-center">
                                    <i class="icon-labor far fa-user"></i>
                                </div>

                                <div class="row mt-3 justify-content-center">
                                    <div class="col-1 pr-2">
                                        <i class="far fa-circle no-selected"></i><i
                                            class="fas fa-check-circle selected"></i>
                                    </div>
                                    <div class="col-5 col-sm-10">
                                        <p class="text-left text-sm-center">Independiente</p>
                                    </div>
                                </div>

                                <!-- <p class="pt-3 text-center"><i class="far fa-circle no-selected"></i><i class="fas fa-check-circle selected"></i>Independiente</p> -->
                            </label>

                            <input type="radio" value="mixta" id="mixta" (change)="onSelectType($event)" formControlName="type">
                            <label [ngClass]="{ 'd-none d-sm-block': dependenciaSection || independenciaSection }" for="mixta" class="col-12 col-sm-4 my-3 my-sm-0">
                                <div class="text-center">
                                    <i class="icon-labor fas fa-user-tie"></i>
                                </div>

                                <div class="row mt-3 justify-content-center">
                                    <div class="col-1">
                                        <i class="far fa-circle no-selected"></i><i
                                            class="fas fa-check-circle selected"></i>
                                    </div>
                                    <div class="col-5">
                                        <p class="text-left text-sm-center">Mixta</p>
                                    </div>
                                </div>

                                <!-- <p class="pt-3 text-center"><i class="far fa-circle no-selected"></i><i class="fas fa-check-circle selected"></i>Mixta</p> -->
                            </label>
                        </div>
                    </form>


                    <div *ngIf="dependenciaSection">

                        <form [formGroup]="dependienteform">

                            <div class="row my-4">
                                <div class="col-12">
                                    <div class="position-relative">
                                        <input type="text" formControlName="companyName" class="floating-input form-control text-uppercase" required placeholder=" " [ngClass]="{ 'is-invalid': isFieldValidDependienteform('companyName')}" (keyup)="updatePercentageDCompanyName()">
                                        <label class="floating-label">nombre de la empresa*</label>
                                        <div *ngIf="isFieldValidDependienteform('companyName')" class="invalid-feedback">
                                            <span>Ingrese el nombre de la empresa!</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row my-4">
                                <div class="col-12">
                                    <div class="position-relative">
                                        <input type="text" formControlName="positionCompany" class="floating-input form-control text-uppercase" required placeholder=" " [ngClass]="{ 'is-invalid': isFieldValidDependienteform('positionCompany')}" (keyup)="updatePercentageDPositionCompany()">
                                        <label class="floating-label">cargo en la empresa*</label>
                                        <div *ngIf="isFieldValidDependienteform('positionCompany')" class="invalid-feedback">
                                            <span>Ingrese el cargo en la empresa!</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row my-4">
                                <div class="col-12">
                                    <div class="position-relative">
                                        <input type="tel" currencyMask formControlName="monthlySalary" class="floating-input form-control" required placeholder=" " [ngClass]="{ 'is-invalid': isFieldValidDependienteform('monthlySalary')}" (keyup)="updatePercentageDMonthlySalary()">
                                        <label class="floating-label">sueldo mensual*</label>
                                        <div *ngIf="isFieldValidDependienteform('monthlySalary')" class="invalid-feedback">
                                            <span>Ingrese el sueldo mensual!</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <summary (click)="isCollapsed = !isCollapsed" [attr.aria-expanded]="!isCollapsed" aria-controls="collapseBasic" class="color-8 text-light-14"><i *ngIf="!isCollapsed" class="fas fa-angle-up pr-3"></i><i *ngIf="isCollapsed" class="fas fa-angle-down pr-3"></i>Activar más campos</summary>

                            <div id="collapseBasic" [collapse]="isCollapsed" [isAnimated]="true">

                                <div class="row mt-0 mt-md-4">
                                    <div class="col-12 col-md-6 my-md-0 my-4">
                                        <div class="position-relative">
                                            <input type="tel" currencyMask formControlName="otherMonthlyValue" class="floating-input form-control" placeholder=" ">
                                            <label class="floating-label">otro valor mensual</label>
                                        </div>
                                    </div>
                                    <div class="col-12 col-md-6">
                                        <div class="position-relative">
                                            <input type="text" formControlName="valueDetail" class="floating-input form-control text-uppercase" placeholder=" ">
                                            <label class="floating-label">detalle del valor</label>
                                        </div>
                                    </div>
                                </div>

                            </div>

                            <div class="row my-0 my-md-4">
                                <div class="col-12 col-md-6 my-md-0 my-4">
                                    <ng-select appearance="outline" class="custom" [items]="provinces" placeholder="provincia*" formControlName="province" (change)="changeProvince($event)" [searchable]="true" bindLabel="name" [clearable]="false">
                                    </ng-select>
                                    <div *ngIf="isFieldValidDependienteform('province')" class="invalid-select">
                                        <span>Seleccione una provincia!</span>
                                    </div>
                                </div>
                                <div class="col-12 col-md-6">
                                    <ng-select appearance="outline" class="custom" [items]="cities" placeholder="ciudad*" formControlName="city" (change)="updatePercentageDCity()" [searchable]="true" bindLabel="name" [clearable]="false">
                                    </ng-select>
                                    <div *ngIf="isFieldValidDependienteform('city')" class="invalid-select">
                                        <span>Seleccione una ciudad!</span>
                                    </div>
                                </div>
                            </div>

                            <div class="row my-4">
                                <div class="col-12">
                                    <div class="position-relative">
                                        <input type="text" formControlName="address" class="floating-input form-control text-uppercase" placeholder=" ">
                                        <label class="floating-label">dirección</label>
                                    </div>
                                </div>
                            </div>
                            <div class="row my-4">
                                <div class="col-12">
                                    <div class="position-relative">
                                        <input type="tel" numeric maxlength="10" formControlName="phone" class="floating-input form-control text-uppercase" placeholder=" ">
                                        <label class="floating-label">teléfono de contacto</label>
                                    </div>
                                </div>
                            </div>

                        </form>
                    </div>

                    <div *ngIf="independenciaSection">

                        <form [formGroup]="independienteform">

                            <div class="row my-4">
                                <div class="col-12">
                                    <div class="position-relative">
                                        <input type="tel" numeric maxlength="13" formControlName="ruc" class="floating-input form-control" required placeholder=" " [ngClass]="{ 'is-invalid': independienteform.controls.ruc.touched && independienteform.controls.ruc.errors}" (keyup)="updatePercentageIRuc()">
                                        <label class="floating-label">Ruc*</label>
                                        <div *ngIf="independienteform.controls.ruc.touched && independienteform.controls.ruc.errors || independienteform.controls.ruc.untouched && independienteform.controls.ruc.errors" class="invalid-feedback">
                                            <div *ngIf="independienteform.controls.ruc.errors.required">
                                                <span>Ingrese RUC de la empresa!</span>
                                            </div>
                                            <div *ngIf="!verifyRucInd()">
                                                <span>RUC incorrecto!</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row my-4">
                                <div class="col-12">
                                    <div class="position-relative">
                                        <input type="text" formControlName="sector" class="floating-input form-control text-uppercase" required placeholder=" " [ngClass]="{ 'is-invalid': isFieldValidIndependienteform('sector')}" (keyup)="updatePercentageISector()">
                                        <label class="floating-label">sector*</label>
                                        <div *ngIf="isFieldValidIndependienteform('sector')" class="invalid-feedback">
                                            <span>Seleccione el sector!</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row my-4">
                                <div class="col-12">
                                    <div class="position-relative">
                                        <input type="tel" currencyMask formControlName="averageSales" class="floating-input form-control" required placeholder=" " [ngClass]="{ 'is-invalid': isFieldValidIndependienteform('averageSales')}" (keyup)="updatePercentageIAverageSales()">
                                        <label class="floating-label">promedio mensual ventas*</label>
                                        <div *ngIf="isFieldValidIndependienteform('averageSales')" class="invalid-feedback">
                                            <span>Ingrese el promedio mensual de ventas!</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </form>
                    </div>

                    <div *ngIf="mixtaSection">

                        <form [formGroup]="mixtaform">

                            <p class="tittle-5 color-9">Mixta- Dependencia</p>

                            <div class="row my-4">
                                <div class="col-12">
                                    <div class="position-relative">
                                        <input type="text" formControlName="companyName" class="floating-input form-control text-uppercase" required placeholder=" " [ngClass]="{ 'is-invalid': isFieldValidMixtaform('companyName')}" (keyup)="updatePercentageMCompanyName()">
                                        <label class="floating-label">nombre de la empresa*</label>
                                        <div *ngIf="isFieldValidMixtaform('companyName')" class="invalid-feedback">
                                            <span>Ingrese el nombre de la empresa!</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row my-4">
                                <div class="col-12">
                                    <div class="position-relative">
                                        <input type="text" formControlName="positionCompany" class="floating-input form-control text-uppercase" required placeholder=" " [ngClass]="{ 'is-invalid': isFieldValidMixtaform('positionCompany')}" (keyup)="updatePercentageMPositionCompany()">
                                        <label class="floating-label">cargo en la empresa*</label>
                                        <div *ngIf="isFieldValidMixtaform('positionCompany')" class="invalid-feedback">
                                            <span>Ingrese el cargo en la empresa!</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row my-4">
                                <div class="col-12">
                                    <div class="position-relative">
                                        <input type="tel" currencyMask formControlName="monthlySalary" class="floating-input form-control" required placeholder=" " [ngClass]="{ 'is-invalid': isFieldValidMixtaform('monthlySalary')}" (keyup)="updatePercentageMMonthlySalary()">
                                        <label class="floating-label">sueldo mensual*</label>
                                        <div *ngIf="isFieldValidMixtaform('monthlySalary')" class="invalid-feedback">
                                            <span>Ingrese el sueldo mensual!</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <summary (click)="isCollapsed = !isCollapsed" [attr.aria-expanded]="!isCollapsed" aria-controls="collapseBasic" class="color-8 text-light-14"><i *ngIf="!isCollapsed" class="fas fa-angle-up pr-3"></i><i *ngIf="isCollapsed" class="fas fa-angle-down pr-3"></i>Activar más campos</summary>

                            <div id="collapseBasic" [collapse]="isCollapsed" [isAnimated]="true">

                                <div class="row mt-0 mt-md-4">
                                    <div class="col-12 col-md-6 my-md-0 my-4">
                                        <div class="position-relative">
                                            <input type="tel" currencyMask formControlName="otherMonthlyValue" class="floating-input form-control" placeholder=" ">
                                            <label class="floating-label">otro valor mensual</label>
                                        </div>
                                    </div>
                                    <div class="col-12 col-md-6">
                                        <div class="position-relative">
                                            <input type="text" formControlName="valueDetail" class="floating-input form-control text-uppercase" placeholder=" ">
                                            <label class="floating-label">detalle del valor</label>
                                        </div>
                                    </div>
                                </div>

                            </div>

                            <div class="row my-0 my-md-4">
                                <div class="col-12 col-md-6 my-md-0 my-4">
                                    <ng-select appearance="outline" class="custom" [items]="provinces" placeholder="provincia*" formControlName="province" (change)="changeProvince($event)" [searchable]="true" bindLabel="name" [clearable]="false">
                                    </ng-select>
                                    <div *ngIf="isFieldValidMixtaform('province')" class="invalid-select">
                                        <span>Seleccione una provincia!</span>
                                    </div>
                                </div>
                                <div class="col-12 col-md-6">
                                    <ng-select appearance="outline" class="custom" [items]="cities" placeholder="ciudad*" formControlName="city" (change)="updatePercentageMCity()" [searchable]="true" bindLabel="name" [clearable]="false">
                                    </ng-select>
                                    <div *ngIf="isFieldValidMixtaform('city')" class="invalid-select">
                                        <span>Seleccione una ciudad!</span>
                                    </div>
                                </div>
                            </div>

                            <div class="row my-4">
                                <div class="col-12">
                                    <div class="position-relative">
                                        <input type="text" formControlName="address" class="floating-input form-control text-uppercase" placeholder=" ">
                                        <label class="floating-label">dirección</label>
                                    </div>
                                </div>
                            </div>
                            <div class="row my-4">
                                <div class="col-12">
                                    <div class="position-relative">
                                        <input type="tel" numeric maxlength="10" formControlName="phone" class="floating-input form-control text-uppercase" placeholder=" ">
                                        <label class="floating-label">teléfono de contacto</label>
                                    </div>
                                </div>
                            </div>

                            <p class="tittle-5 color-9 mt-5">Mixta- Independiente</p>

                            <div class="row my-4">
                                <div class="col-12">
                                    <div class="position-relative">
                                        <input type="tel" numeric maxlength="13" formControlName="ruc" class="floating-input form-control" required placeholder=" " [ngClass]="{ 'is-invalid': mixtaform.controls.ruc.touched && mixtaform.controls.ruc.errors}" (keyup)="updatePercentageMRuc()">
                                        <label class="floating-label">Ruc*</label>
                                        <div *ngIf="mixtaform.controls.ruc.touched && mixtaform.controls.ruc.errors || mixtaform.controls.ruc.untouched && mixtaform.controls.ruc.errors" class="invalid-feedback">
                                            <div *ngIf="mixtaform.controls.ruc.errors.required">
                                                <span>Ingrese RUC de la empresa!</span>
                                            </div>
                                            <div *ngIf="!verifyRucInd()">
                                                <span>RUC incorrecto!</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row my-4">
                                <div class="col-12">
                                    <div class="position-relative">
                                        <input type="text" formControlName="sector" class="floating-input form-control text-uppercase" required placeholder=" " [ngClass]="{ 'is-invalid': isFieldValidMixtaform('sector')}" (keyup)="updatePercentageMSector()">
                                        <label class="floating-label">sector*</label>
                                        <div *ngIf="isFieldValidMixtaform('sector')" class="invalid-feedback">
                                            <span>Seleccione el sector!</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row my-4">
                                <div class="col-12">
                                    <div class="position-relative">
                                        <input type="tel" currencyMask formControlName="averageSales" class="floating-input form-control" required placeholder=" " [ngClass]="{ 'is-invalid': isFieldValidMixtaform('averageSales')}" (keyup)="updatePercentageMAverageSales()">
                                        <label class="floating-label">promedio mensual ventas*</label>
                                        <div *ngIf="isFieldValidMixtaform('averageSales')" class="invalid-feedback">
                                            <span>Ingrese el promedio mensual de ventas!</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </form>

                    </div>


                    <div *ngIf="dependenciaSection" class="row my-5 justify-content-center">
                        <div class="col-12 col-md-4">
                            <button type="button" class="btn button btn-block" [disabled]="!dependienteform.valid" (click)="onSubmitDependienteForm()">CONTINUAR</button>
                        </div>
                    </div>

                    <div *ngIf="independenciaSection" class="row my-5 justify-content-center">
                        <div class="col-12 col-md-4">
                            <button type="button" class="btn button btn-block" [disabled]="!independienteform.valid" (click)="onSubmitIndependienteForm()">CONTINUAR</button>
                        </div>
                    </div>

                    <div *ngIf="mixtaSection" class="row my-5 justify-content-center">
                        <div class="col-12 col-md-4">
                            <button type="button" class="btn button btn-block" [disabled]="!mixtaform.valid" (click)="onSubmitMixtaForm()">CONTINUAR</button>
                        </div>
                    </div>



                </div>
            </div>
        </div>
    </div>
</section>